"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[30098],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(n),d=r,h=p["".concat(l,".").concat(d)]||p[d]||m[d]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},85162:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(67294),r=n(86010),o={tabItem:"tabItem_Ymn6"};function i(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,i),hidden:n},t)}},74866:function(e,t,n){n.d(t,{Z:function(){return N}});var a=n(83117),r=n(67294),o=n(86010),i=n(12466),s=n(16550),l=n(91980),u=n(67392),c=n(50012);function p(e){return function(e){return r.Children.map(e,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function m(e){var t=e.values,n=e.children;return(0,r.useMemo)((function(){var e=null!=t?t:p(n);return function(e){var t=(0,u.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function d(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function h(e){var t=e.queryString,n=void 0!==t&&t,a=e.groupId,o=(0,s.k6)(),i=function(e){var t=e.queryString,n=void 0!==t&&t,a=e.groupId;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:n,groupId:a});return[(0,l._X)(i),(0,r.useCallback)((function(e){if(i){var t=new URLSearchParams(o.location.search);t.set(i,e),o.replace(Object.assign({},o.location,{search:t.toString()}))}}),[i,o])]}function f(e){var t,n,a,o,i=e.defaultValue,s=e.queryString,l=void 0!==s&&s,u=e.groupId,p=m(e),f=(0,r.useState)((function(){return function(e){var t,n=e.defaultValue,a=e.tabValues;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!d({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}var r=null!=(t=a.find((function(e){return e.default})))?t:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:i,tabValues:p})})),g=f[0],v=f[1],k=h({queryString:l,groupId:u}),b=k[0],y=k[1],N=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:u}.groupId),n=(0,c.Nk)(t),a=n[0],o=n[1],[a,(0,r.useCallback)((function(e){t&&o.set(e)}),[t,o])]),w=N[0],C=N[1],x=function(){var e=null!=b?b:w;return d({value:e,tabValues:p})?e:null}();return(0,r.useLayoutEffect)((function(){x&&v(x)}),[x]),{selectedValue:g,selectValue:(0,r.useCallback)((function(e){if(!d({value:e,tabValues:p}))throw new Error("Can't select invalid tab value="+e);v(e),y(e),C(e)}),[y,C,p]),tabValues:p}}var g=n(72389),v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){var t=e.className,n=e.block,s=e.selectedValue,l=e.selectValue,u=e.tabValues,c=[],p=(0,i.o5)().blockElementScrollPositionUntilNextRender,m=function(e){var t=e.currentTarget,n=c.indexOf(t),a=u[n].value;a!==s&&(p(t),l(a))},d=function(e){var t,n=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":var a,r=c.indexOf(e.currentTarget)+1;n=null!=(a=c[r])?a:c[0];break;case"ArrowLeft":var o,i=c.indexOf(e.currentTarget)-1;n=null!=(o=c[i])?o:c[c.length-1]}null==(t=n)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},u.map((function(e){var t=e.value,n=e.label,i=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:function(e){return c.push(e)},onKeyDown:d,onClick:m},i,{className:(0,o.Z)("tabs__item",v.tabItem,null==i?void 0:i.className,{"tabs__item--active":s===t})}),null!=n?n:t)})))}function b(e){var t=e.lazy,n=e.children,a=e.selectedValue;if(n=Array.isArray(n)?n:[n],t){var o=n.find((function(e){return e.props.value===a}));return o?(0,r.cloneElement)(o,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},n.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})})))}function y(e){var t=f(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",v.tabList)},r.createElement(k,(0,a.Z)({},e,t)),r.createElement(b,(0,a.Z)({},e,t)))}function N(e){var t=(0,g.Z)();return r.createElement(y,(0,a.Z)({key:String(t)},e))}},19830:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return p}});var a=n(83117),r=n(80102),o=(n(67294),n(3905)),i=(n(74866),n(85162),["components"]),s={id:"navigation-actions",title:"CommonActions reference",sidebar_label:"CommonActions"},l=void 0,u={unversionedId:"navigation-actions",id:"version-7.x/navigation-actions",title:"CommonActions reference",description:"A navigation action is an object containing at least a type property. Internally, the action can be handled by routers with the getStateForAction method to return a new state from an existing navigation state.",source:"@site/versioned_docs/version-7.x/navigation-actions.md",sourceDirName:".",slug:"/navigation-actions",permalink:"/docs/7.x/navigation-actions",draft:!1,editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-7.x/navigation-actions.md",tags:[],version:"7.x",frontMatter:{id:"navigation-actions",title:"CommonActions reference",sidebar_label:"CommonActions"},sidebar:"version-7.x/docs",previous:{title:"useTheme",permalink:"/docs/7.x/use-theme"},next:{title:"StackActions",permalink:"/docs/7.x/stack-actions"}},c={},p=[{value:"Common actions",id:"common-actions",level:2},{value:"navigate",id:"navigate",level:3},{value:"reset",id:"reset",level:3},{value:"goBack",id:"goback",level:3},{value:"setParams",id:"setparams",level:3}],m={toc:p},d="wrapper";function h(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)(d,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"A navigation action is an object containing at least a ",(0,o.kt)("inlineCode",{parentName:"p"},"type")," property. Internally, the action can be handled by ",(0,o.kt)("a",{parentName:"p",href:"/docs/7.x/custom-routers"},"routers")," with the ",(0,o.kt)("inlineCode",{parentName:"p"},"getStateForAction")," method to return a new state from an existing ",(0,o.kt)("a",{parentName:"p",href:"/docs/7.x/navigation-state"},"navigation state"),"."),(0,o.kt)("p",null,"Each navigation actions can contain at least the following properties:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"type")," (required) - A string which represents the name of the action."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"payload")," (options) - An object containing additional information about the action. For example, it will contain ",(0,o.kt)("inlineCode",{parentName:"li"},"name")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"params")," for ",(0,o.kt)("inlineCode",{parentName:"li"},"navigate"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"source")," (optional) - The key of the route which should be considered as the source of the action. This is used for some actions to determine which route to apply the action on. By default, ",(0,o.kt)("inlineCode",{parentName:"li"},"navigation.dispatch")," adds the key of the route that dispatched the action."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"target")," (optional) - The key of the ",(0,o.kt)("a",{parentName:"li",href:"/docs/7.x/navigation-state"},"navigation state")," the action should be applied on.")),(0,o.kt)("p",null,"It's important to highlight that dispatching a navigation action doesn't throw any error when the action is unhandled (similar to when you dispatch an action that isn't handled by a reducer in redux and nothing happens)."),(0,o.kt)("h2",{id:"common-actions"},"Common actions"),(0,o.kt)("p",null,"The library exports several action creators under the ",(0,o.kt)("inlineCode",{parentName:"p"},"CommonActions")," namespace. You should use these action creators instead of writing action objects manually."),(0,o.kt)("h3",{id:"navigate"},"navigate"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"navigate")," action allows to navigate to a specific route. It takes the following arguments:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"name")," - ",(0,o.kt)("em",{parentName:"li"},"string")," - A destination name of the route that has been registered somewhere.."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"key")," - ",(0,o.kt)("em",{parentName:"li"},"string")," - The identifier for the route to navigate to. Navigate back to this route if it already exists.."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"params")," - ",(0,o.kt)("em",{parentName:"li"},"object")," - Params to merge into the destination route..")),(0,o.kt)("p",null,"The options object passed should at least contain a ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"name")," property, and optionally ",(0,o.kt)("inlineCode",{parentName:"p"},"params"),". If both ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"name")," are passed, stack navigator will create a new route with the specified key if no matches were found."),(0,o.kt)("samp",{id:"common-actions"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { CommonActions } from '@react-navigation/native';\n\nnavigation.dispatch(\n  CommonActions.navigate({\n    name: 'Profile',\n    params: {\n      user: 'jane',\n    },\n  })\n);\n")),(0,o.kt)("p",null,"In a ",(0,o.kt)("a",{parentName:"p",href:"/docs/7.x/stack-navigator"},"stack navigator"),", calling ",(0,o.kt)("inlineCode",{parentName:"p"},"navigate")," with a screen name will result in different behavior based on if the screen is already present or not. If the screen is already present in the stack's history, it'll go back to that screen and remove any screens after that. If the screen is not present, it'll push a new screen."),(0,o.kt)("p",null,"By default, the screen is identified by its name. But you can also customize it to take the params into account by using the ",(0,o.kt)("a",{parentName:"p",href:"/docs/7.x/screen#getid"},(0,o.kt)("inlineCode",{parentName:"a"},"getId"))," prop."),(0,o.kt)("h3",{id:"reset"},"reset"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"reset")," action allows to reset the ",(0,o.kt)("a",{parentName:"p",href:"/docs/7.x/navigation-state"},"navigation state")," to the given state. It takes the following arguments:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"state")," - ",(0,o.kt)("em",{parentName:"li"},"object")," - The new ",(0,o.kt)("a",{parentName:"li",href:"/docs/7.x/navigation-state"},"navigation state")," object to use.")),(0,o.kt)("samp",{id:"common-actions"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { CommonActions } from '@react-navigation/native';\n\nnavigation.dispatch(\n  CommonActions.reset({\n    index: 1,\n    routes: [\n      { name: 'Home' },\n      {\n        name: 'Profile',\n        params: { user: 'jane' },\n      },\n    ],\n  })\n);\n")),(0,o.kt)("p",null,"The state object specified in ",(0,o.kt)("inlineCode",{parentName:"p"},"reset")," replaces the existing ",(0,o.kt)("a",{parentName:"p",href:"/docs/7.x/navigation-state"},"navigation state")," with the new one. This means that if you provide new route objects without a key, or route objects with a different key, it'll remove the existing screens for those routes and add new screens."),(0,o.kt)("p",null,"If you want to preserve the existing screens but only want to modify the state, you can pass a function to ",(0,o.kt)("inlineCode",{parentName:"p"},"dispatch")," where you can get the existing state. Then you can change it as you like (make sure not to mutate the existing state, but create new state object for your changes). and return a ",(0,o.kt)("inlineCode",{parentName:"p"},"reset")," action with the desired state:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { CommonActions } from '@react-navigation/native';\n\nnavigation.dispatch(state => {\n  // Remove the home route from the stack\n  const routes = state.routes.filter(r => r.name !== 'Home');\n\n  return CommonActions.reset({\n    ...state,\n    routes,\n    index: routes.length - 1,\n  });\n});\n")),(0,o.kt)("admonition",{type:"warning"},(0,o.kt)("p",{parentName:"admonition"},"Consider the navigator's state object to be internal and subject to change in a minor release. Avoid using properties from the ",(0,o.kt)("a",{parentName:"p",href:"/docs/7.x/navigation-state"},"navigation state")," state object except ",(0,o.kt)("inlineCode",{parentName:"p"},"index")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"routes"),", unless you really need it. If there is some functionality you cannot achieve without relying on the structure of the state object, please open an issue.")),(0,o.kt)("h3",{id:"goback"},"goBack"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"goBack")," action creator allows to go back to the previous route in history. It doesn't take any arguments."),(0,o.kt)("samp",{id:"common-actions"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { CommonActions } from '@react-navigation/native';\n\nnavigation.dispatch(CommonActions.goBack());\n")),(0,o.kt)("p",null,"If you want to go back from a particular route, you can add a ",(0,o.kt)("inlineCode",{parentName:"p"},"source")," property referring to the route key and a ",(0,o.kt)("inlineCode",{parentName:"p"},"target")," property referring to the ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," of the navigator which contains the route:"),(0,o.kt)("samp",{id:"common-actions"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { CommonActions } from '@react-navigation/native';\n\nnavigation.dispatch({\n  ...CommonActions.goBack(),\n  source: route.key,\n  target: state.key,\n});\n")),(0,o.kt)("p",null,"By default, the key of the route which dispatched the action is passed as the ",(0,o.kt)("inlineCode",{parentName:"p"},"source")," property and the ",(0,o.kt)("inlineCode",{parentName:"p"},"target")," property is ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),"."),(0,o.kt)("h3",{id:"setparams"},"setParams"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"setParams")," action allows to update params for a certain route. It takes the following arguments:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"params")," - ",(0,o.kt)("em",{parentName:"li"},"object")," - required - New params to be merged into existing route params.")),(0,o.kt)("samp",{id:"common-actions"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { CommonActions } from '@react-navigation/native';\n\nnavigation.dispatch(CommonActions.setParams({ user: 'Wojtek' }));\n")),(0,o.kt)("p",null,"If you want to set params for a particular route, you can add a ",(0,o.kt)("inlineCode",{parentName:"p"},"source")," property referring to the route key:"),(0,o.kt)("samp",{id:"common-actions"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { CommonActions } from '@react-navigation/native';\n\nnavigation.dispatch({\n  ...CommonActions.setParams({ user: 'Wojtek' }),\n  source: route.key,\n});\n")),(0,o.kt)("p",null,"If the ",(0,o.kt)("inlineCode",{parentName:"p"},"source")," property is explicitly set to ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),", it'll set the params for the focused route."))}h.isMDXComponent=!0}}]);