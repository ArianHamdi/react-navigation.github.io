"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[79346],{76812:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>u});var t=n(85893),s=n(11151),r=n(74866),i=n(85162);const o={id:"params",title:"Passing parameters to routes",sidebar_label:"Passing parameters to routes"},l=void 0,c={id:"params",title:"Passing parameters to routes",description:'Remember when I said "more on that later when we talk about params!"? Well, the time has come.',source:"@site/versioned_docs/version-7.x/params.md",sourceDirName:".",slug:"/params",permalink:"/docs/7.x/params",draft:!1,unlisted:!1,editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-7.x/params.md",tags:[],version:"7.x",frontMatter:{id:"params",title:"Passing parameters to routes",sidebar_label:"Passing parameters to routes"},sidebar:"docs",previous:{title:"Moving between screens",permalink:"/docs/7.x/navigating"},next:{title:"Configuring the header bar",permalink:"/docs/7.x/headers"}},d={},u=[{value:"Initial params",id:"initial-params",level:2},{value:"Updating params",id:"updating-params",level:2},{value:"Passing params to a previous screen",id:"passing-params-to-a-previous-screen",level:2},{value:"Passing params to nested navigators",id:"passing-params-to-nested-navigators",level:2},{value:"What should be in params",id:"what-should-be-in-params",level:2},{value:"Summary",id:"summary",level:2}];function h(e){const a={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:['Remember when I said "more on that later when we talk about ',(0,t.jsx)(a.code,{children:"params"}),'!"? Well, the time has come.']}),"\n",(0,t.jsxs)(a.p,{children:["Now that we know how to create a stack navigator with some routes and ",(0,t.jsx)(a.a,{href:"/docs/7.x/navigating",children:"navigate between those routes"}),", let's look at how we can pass data to routes when we navigate to them."]}),"\n",(0,t.jsx)(a.p,{children:"There are two pieces to this:"}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsxs)(a.li,{children:["Pass params to a route by putting them in an object as a second parameter to the ",(0,t.jsx)(a.code,{children:"navigation.navigate"})," function: ",(0,t.jsx)(a.code,{children:"navigation.navigate('RouteName', { /* params go here */ })"})]}),"\n",(0,t.jsxs)(a.li,{children:["Read the params in your screen component: ",(0,t.jsx)(a.code,{children:"route.params"}),"."]}),"\n"]}),"\n",(0,t.jsx)(a.admonition,{type:"note",children:(0,t.jsxs)(a.p,{children:["We recommend that the params you pass are JSON-serializable. That way, you'll be able to use ",(0,t.jsx)(a.a,{href:"/docs/7.x/state-persistence",children:"state persistence"})," and your screen components will have the right contract for implementing ",(0,t.jsx)(a.a,{href:"/docs/7.x/deep-linking",children:"deep linking"}),"."]})}),"\n",(0,t.jsx)("samp",{id:"passing-params"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"function HomeScreen() {\n  const navigation = useNavigation();\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Home Screen</Text>\n      <Button\n        title=\"Go to Details\"\n        onPress={() => {\n          /* 1. Navigate to the Details route with params */\n          navigation.navigate('Details', {\n            itemId: 86,\n            otherParam: 'anything you want here',\n          });\n        }}\n      />\n    </View>\n  );\n}\n\nfunction DetailsScreen({ route }) {\n  const navigation = useNavigation();\n\n  /* 2. Get the param */\n  const { itemId, otherParam } = route.params;\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Details Screen</Text>\n      <Text>itemId: {JSON.stringify(itemId)}</Text>\n      <Text>otherParam: {JSON.stringify(otherParam)}</Text>\n      <Button\n        title=\"Go to Details... again\"\n        onPress={() =>\n          navigation.push('Details', {\n            itemId: Math.floor(Math.random() * 100),\n          })\n        }\n      />\n      <Button title=\"Go to Home\" onPress={() => navigation.navigate('Home')} />\n      <Button title=\"Go back\" onPress={() => navigation.goBack()} />\n    </View>\n  );\n}\n"})}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"Screen with passed parameters",src:n(40074).Z+"",width:"320",height:"569"})}),"\n",(0,t.jsx)(a.h2,{id:"initial-params",children:"Initial params"}),"\n",(0,t.jsxs)(a.p,{children:["You can also pass some initial params to a screen. If you didn't specify any params when navigating to this screen, the initial params will be used. They are also shallow merged with any params that you pass. Initial params can be specified in ",(0,t.jsx)(a.code,{children:"initialParams"}),":"]}),"\n",(0,t.jsxs)(r.Z,{groupId:"config",queryString:"config",children:[(0,t.jsx)(i.Z,{value:"static",label:"Static",default:!0,children:(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"{\n  Details: {\n    screen: DetailsScreen,\n    initialParams: { itemId: 42 },\n  },\n}\n"})})}),(0,t.jsxs)(i.Z,{value:"dynamic",label:"Dynamic",children:[(0,t.jsx)("samp",{id:"initial-params"}),(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:'<Stack.Screen\n  name="Details"\n  component={DetailsScreen}\n  initialParams={{ itemId: 42 }}\n/>\n'})})]})]}),"\n",(0,t.jsx)(a.h2,{id:"updating-params",children:"Updating params"}),"\n",(0,t.jsxs)(a.p,{children:["Screens can also update their params, like they can update their state. The ",(0,t.jsx)(a.code,{children:"navigation.setParams"})," method lets you update the params of a screen. Refer to the ",(0,t.jsxs)(a.a,{href:"/docs/7.x/navigation-object#setparams",children:["API reference for ",(0,t.jsx)(a.code,{children:"setParams"})]})," for more details."]}),"\n",(0,t.jsx)(a.p,{children:"Basic usage:"}),"\n",(0,t.jsx)("samp",{id:"updating-params"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"navigation.setParams({\n  query: 'someText',\n});\n"})}),"\n",(0,t.jsx)(a.admonition,{type:"note",children:(0,t.jsxs)(a.p,{children:["Avoid using ",(0,t.jsx)(a.code,{children:"setParams"})," to update screen options such as ",(0,t.jsx)(a.code,{children:"title"})," etc. If you need to update options, use ",(0,t.jsx)(a.a,{href:"/docs/7.x/navigation-object#setoptions",children:(0,t.jsx)(a.code,{children:"setOptions"})})," instead."]})}),"\n",(0,t.jsx)(a.h2,{id:"passing-params-to-a-previous-screen",children:"Passing params to a previous screen"}),"\n",(0,t.jsx)(a.p,{children:"Params aren't only useful for passing some data to a new screen, but they can also be useful to pass data to a previous screen too. For example, let's say you have a screen with a create post button, and the create post button opens a new screen to create a post. After creating the post, you want to pass the data for the post back to previous screen."}),"\n",(0,t.jsxs)(a.p,{children:["To achieve this, you can use the ",(0,t.jsx)(a.code,{children:"navigate"})," method, which acts like ",(0,t.jsx)(a.code,{children:"goBack"})," if the screen already exists. You can pass the ",(0,t.jsx)(a.code,{children:"params"})," with ",(0,t.jsx)(a.code,{children:"navigate"})," to pass the data back:"]}),"\n",(0,t.jsx)("samp",{id:"passing-params-back"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"function HomeScreen({ route }) {\n  const navigation = useNavigation();\n\n  React.useEffect(() => {\n    if (route.params?.post) {\n      // Post updated, do something with `route.params.post`\n      // For example, send the post to the server\n    }\n  }, [route.params?.post]);\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Button\n        title=\"Create post\"\n        onPress={() => navigation.navigate('CreatePost')}\n      />\n      <Text style={{ margin: 10 }}>Post: {route.params?.post}</Text>\n    </View>\n  );\n}\n\nfunction CreatePostScreen({ route }) {\n  const navigation = useNavigation();\n  const [postText, setPostText] = React.useState('');\n\n  return (\n    <>\n      <TextInput\n        multiline\n        placeholder=\"What's on your mind?\"\n        style={{ height: 200, padding: 10, backgroundColor: 'white' }}\n        value={postText}\n        onChangeText={setPostText}\n      />\n      <Button\n        title=\"Done\"\n        onPress={() => {\n          // Pass and merge params back to home screen\n          navigation.navigate({\n            name: 'Home',\n            params: { post: postText },\n            merge: true,\n          });\n        }}\n      />\n    </>\n  );\n}\n"})}),"\n",(0,t.jsxs)(a.p,{children:['Here, after you press "Done", the home screen\'s ',(0,t.jsx)(a.code,{children:"route.params"})," will be updated to reflect the post text that you passed in ",(0,t.jsx)(a.code,{children:"navigate"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"passing-params-to-nested-navigators",children:"Passing params to nested navigators"}),"\n",(0,t.jsxs)(a.p,{children:["If you have nested navigators, you need to pass params a bit differently. For example, say you have a navigator inside the ",(0,t.jsx)(a.code,{children:"Account"})," screen, and want to pass params to the ",(0,t.jsx)(a.code,{children:"Settings"})," screen inside that navigator. Then you can pass params as following:"]}),"\n",(0,t.jsx)("samp",{id:"params-nested-navigators"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"navigation.navigate('Account', {\n  screen: 'Settings',\n  params: { user: 'jane' },\n});\n"})}),"\n",(0,t.jsxs)(a.p,{children:["See ",(0,t.jsx)(a.a,{href:"/docs/7.x/nesting-navigators",children:"Nesting navigators"})," for more details on nesting."]}),"\n",(0,t.jsx)(a.h2,{id:"what-should-be-in-params",children:"What should be in params"}),"\n",(0,t.jsx)(a.p,{children:"It's important to understand what kind of data should be in params. Params are like options for a screen. They should only contain information to configure what's displayed in the screen. Avoid passing the full data which will be displayed on the screen itself (e.g. pass a user id instead of user object). Also avoid passing data which is used by multiple screens, such data should be in a global store."}),"\n",(0,t.jsx)(a.p,{children:"You can also think of the route object like a URL. If your screen had a URL, what should be in the URL? Params shouldn't contain data that you think should not be in the URL. This often means that you should keep as little data as possible needed to determine what the screen is. Think of visiting a shopping website, when you are seeing product listings, the URL usually contains category name, type of sort, any filters etc., it doesn't contain the actual list of products displayed on the screen."}),"\n",(0,t.jsxs)(a.p,{children:["For example, say if you have a ",(0,t.jsx)(a.code,{children:"Profile"})," screen. When navigating to it, you might be tempted to pass the user object in the params:"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"// Don't do this\nnavigation.navigate('Profile', {\n  user: {\n    id: 'jane',\n    firstName: 'Jane',\n    lastName: 'Done',\n    age: 25,\n  },\n});\n"})}),"\n",(0,t.jsxs)(a.p,{children:["This looks convenient, and lets you access the user objects with ",(0,t.jsx)(a.code,{children:"route.params.user"})," without any extra work."]}),"\n",(0,t.jsx)(a.p,{children:"However, this is an anti-pattern. Data such as user objects should be in your global store instead of the navigation state. Otherwise you have the same data duplicated in multiple places. This can lead to bugs such as the profile screen showing outdated data even if the user object has changed after navigation."}),"\n",(0,t.jsx)(a.p,{children:"It also becomes problematic to link to the screen via deep linking or on the Web, since:"}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:"The URL is a representation of the screen, so it also needs to contain the params, i.e. full user object, which can make the URL very long and unreadable"}),"\n",(0,t.jsx)(a.li,{children:"Since the user object is in the URL, it's possible to pass a random user object representing a user which doesn't exist, or has incorrect data in the profile"}),"\n",(0,t.jsx)(a.li,{children:"If the user object isn't passed, or improperly formatted, this could result in crashes as the screen won't know how to handle it"}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"A better way is to pass only the ID of the user in params:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"navigation.navigate('Profile', { userId: 'jane' });\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Now, you can use the passed ",(0,t.jsx)(a.code,{children:"userId"})," to grab the user from your global store. This eliminates a host of issues such as outdated data, or problematic URLs."]}),"\n",(0,t.jsx)(a.p,{children:"Some examples of what should be in params are:"}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsxs)(a.li,{children:["IDs like user id, item id etc., e.g. ",(0,t.jsx)(a.code,{children:"navigation.navigate('Profile', { userId: 'Jane' })"})]}),"\n",(0,t.jsxs)(a.li,{children:["Params for sorting, filtering data etc. when you have a list of items, e.g. ",(0,t.jsx)(a.code,{children:"navigation.navigate('Feeds', { sortBy: 'latest' })"})]}),"\n",(0,t.jsxs)(a.li,{children:["Timestamps, page numbers or cursors for pagination, e.g. ",(0,t.jsx)(a.code,{children:"navigation.navigate('Chat', { beforeTime: 1603897152675 })"})]}),"\n",(0,t.jsxs)(a.li,{children:["Data to fill inputs on a screen to compose something, e.g. ",(0,t.jsx)(a.code,{children:"navigation.navigate('ComposeTweet', { title: 'Hello world!' })"})]}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"In essence, pass the least amount of data required to identify a screen in params, for a lot of cases, this simply means passing the ID of an object instead of passing a full object. Keep your application data separate from the navigation state."}),"\n",(0,t.jsx)(a.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"navigate"})," and ",(0,t.jsx)(a.code,{children:"push"})," accept an optional second argument to let you pass parameters to the route you are navigating to. For example: ",(0,t.jsx)(a.code,{children:"navigation.navigate('RouteName', { paramName: 'value' })"}),"."]}),"\n",(0,t.jsxs)(a.li,{children:["You can read the params through ",(0,t.jsx)(a.code,{children:"route.params"})," inside a screen"]}),"\n",(0,t.jsxs)(a.li,{children:["You can update the screen's params with ",(0,t.jsx)(a.code,{children:"navigation.setParams"})]}),"\n",(0,t.jsxs)(a.li,{children:["Initial params can be passed via the ",(0,t.jsx)(a.code,{children:"initialParams"})," prop on ",(0,t.jsx)(a.code,{children:"Screen"})]}),"\n",(0,t.jsx)(a.li,{children:"Params should contain the minimal data required to show a screen, nothing more"}),"\n"]})]})}function p(e={}){const{wrapper:a}={...(0,s.a)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},85162:(e,a,n)=>{n.d(a,{Z:()=>i});n(67294);var t=n(86010);const s={tabItem:"tabItem_Ymn6"};var r=n(85893);function i(e){let{children:a,hidden:n,className:i}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.Z)(s.tabItem,i),hidden:n,children:a})}},74866:(e,a,n)=>{n.d(a,{Z:()=>w});var t=n(67294),s=n(86010),r=n(12466),i=n(16550),o=n(20469),l=n(91980),c=n(67392),d=n(50012);function u(e){var a,n;return null!=(a=null==(n=t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?a:[]}function h(e){const{values:a,children:n}=e;return(0,t.useMemo)((()=>{const e=null!=a?a:function(e){return u(e).map((e=>{let{props:{value:a,label:n,attributes:t,default:s}}=e;return{value:a,label:n,attributes:t,default:s}}))}(n);return function(e){const a=(0,c.l)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error('Docusaurus error: Duplicate values "'+a.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[a,n])}function p(e){let{value:a,tabValues:n}=e;return n.some((e=>e.value===a))}function m(e){let{queryString:a=!1,groupId:n}=e;const s=(0,i.k6)(),r=function(e){let{queryString:a=!1,groupId:n}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:a,groupId:n});return[(0,l._X)(r),(0,t.useCallback)((e=>{if(!r)return;const a=new URLSearchParams(s.location.search);a.set(r,e),s.replace({...s.location,search:a.toString()})}),[r,s])]}function g(e){const{defaultValue:a,queryString:n=!1,groupId:s}=e,r=h(e),[i,l]=(0,t.useState)((()=>function(e){var a;let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+t.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const s=null!=(a=t.find((e=>e.default)))?a:t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:a,tabValues:r}))),[c,u]=m({queryString:n,groupId:s}),[g,x]=function(e){let{groupId:a}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(a),[s,r]=(0,d.Nk)(n);return[s,(0,t.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:s}),f=(()=>{const e=null!=c?c:g;return p({value:e,tabValues:r})?e:null})();(0,o.Z)((()=>{f&&l(f)}),[f]);return{selectedValue:i,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error("Can't select invalid tab value="+e);l(e),u(e),x(e)}),[u,x,r]),tabValues:r}}var x=n(72389);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(85893);function j(e){let{className:a,block:n,selectedValue:t,selectValue:i,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.o5)(),d=e=>{const a=e.currentTarget,n=l.indexOf(a),s=o[n].value;s!==t&&(c(a),i(s))},u=e=>{var a;let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var t;const a=l.indexOf(e.currentTarget)+1;n=null!=(t=l[a])?t:l[0];break}case"ArrowLeft":{var s;const a=l.indexOf(e.currentTarget)-1;n=null!=(s=l[a])?s:l[l.length-1];break}}null==(a=n)||a.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":n},a),children:o.map((e=>{let{value:a,label:n,attributes:r}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:t===a?0:-1,"aria-selected":t===a,ref:e=>l.push(e),onKeyDown:u,onClick:d,...r,className:(0,s.Z)("tabs__item",f.tabItem,null==r?void 0:r.className,{"tabs__item--active":t===a}),children:null!=n?n:a},a)}))})}function b(e){let{lazy:a,children:n,selectedValue:s}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(a){const e=r.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map(((e,a)=>(0,t.cloneElement)(e,{key:a,hidden:e.props.value!==s})))})}function y(e){const a=g(e);return(0,v.jsxs)("div",{className:(0,s.Z)("tabs-container",f.tabList),children:[(0,v.jsx)(j,{...e,...a}),(0,v.jsx)(b,{...e,...a})]})}function w(e){const a=(0,x.Z)();return(0,v.jsx)(y,{...e,children:u(e.children)},String(a))}},40074:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/passing_params-69f71caabd25eb4226631c1fff19d8ef.png"},11151:(e,a,n)=>{n.d(a,{Z:()=>o,a:()=>i});var t=n(67294);const s={},r=t.createContext(s);function i(e){const a=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:a},e.children)}}}]);